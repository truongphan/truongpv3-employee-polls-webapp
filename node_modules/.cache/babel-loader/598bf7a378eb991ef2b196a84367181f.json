{"ast":null,"code":"var _jsxFileName = \"/Users/truongphan/React/source/truongpv3-employee-polls-webapp/src/components/PollPage.js\",\n    _s = $RefreshSig$();\n\nimport { connect } from \"react-redux\";\nimport { Navigate, useNavigate, useParams } from \"react-router-dom\";\nimport { handleAddAnswer } from \"../actions/questions\";\nimport \"./PollPage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PollPage = _ref => {\n  _s();\n\n  let {\n    dispatch,\n    authedUser,\n    question,\n    author\n  } = _ref;\n  const navigate = useNavigate();\n\n  if (!authedUser || !question || !author) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/404\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 16\n    }, this);\n  }\n\n  const hasVotedForOptionOne = question.optionOne.votes.includes(authedUser.id);\n  const hasVotedForOptionTwo = question.optionTwo.votes.includes(authedUser.id);\n  const hasVoted = hasVotedForOptionOne || hasVotedForOptionTwo;\n\n  const handleOptionOne = e => {\n    e.preventDefault();\n    dispatch(handleAddAnswer(question.id, \"optionOne\"));\n    navigate(\"/\");\n  };\n\n  const handleOptionTwo = e => {\n    e.preventDefault();\n    dispatch(handleAddAnswer(question.id, \"optionTwo\"));\n    navigate(\"/\");\n  };\n\n  const calcPercentage = (option, question) => {\n    const numberVotesTotal = question.optionOne.votes.length + question.optionTwo.votes.length;\n\n    switch (option) {\n      case \"optionOne\":\n        return question.optionOne.votes.length / numberVotesTotal * 100 + \" %\";\n\n      case \"optionTwo\":\n        return question.optionTwo.votes.length / numberVotesTotal * 100 + \" %\";\n\n      default:\n        return \"\";\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mt-9\",\n      children: [\"Poll by \", author.id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: author.avatarURL,\n        alt: \"Profile\",\n        className: \"h-24 w-24\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold mt-6\",\n        children: \"Would you rather?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 gap-4 mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleOptionOne,\n        disabled: hasVoted,\n        className: \"p-2 rounded-xl bg-zinc-100 hover:shadow-xl transition \" + (hasVotedForOptionOne ? \"bg-lime-400\" : \"\"),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: hasVotedForOptionOne ? \"chosen\" : \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-bold mb-2\",\n            children: question.optionOne.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), !hasVoted && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"underline underline-offset-4 mb-3\",\n            children: \"Click\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), hasVoted && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs\",\n            children: [\"Votes: \", question.optionOne.votes.length, \" (\", calcPercentage(\"optionOne\", question), \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleOptionTwo,\n        disabled: hasVoted,\n        className: \"p-2 rounded-xl bg-zinc-100 hover:shadow-xl transition \" + (hasVotedForOptionTwo ? \"bg-lime-400\" : \"\"),\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold mb-2\",\n          children: question.optionTwo.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), !hasVoted && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"underline underline-offset-4 mb-3\",\n          children: \"Click\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), hasVoted && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs\",\n          children: [\"Votes: \", question.optionTwo.votes.length, \" (\", calcPercentage(\"optionTwo\", question), \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PollPage, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = PollPage;\n\nconst mapStateToProps = _ref2 => {\n  let {\n    authedUser,\n    users,\n    questions\n  } = _ref2;\n\n  try {\n    var _s2 = $RefreshSig$();\n\n    const question = _s2(Object.values(questions).find(_s2(question => {\n      _s2();\n\n      return question.id === useParams().id;\n    }, \"zmUErVVHtqqM6DIDQ9M8H17P2nM=\", false, function () {\n      return [useParams];\n    })), \"zmUErVVHtqqM6DIDQ9M8H17P2nM=\", false, function () {\n      return [useParams];\n    });\n\n    const author = Object.values(users).find(user => user.id === question.author);\n    return {\n      authedUser,\n      question,\n      author\n    };\n  } catch (e) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/404\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 16\n    }, this);\n  }\n};\n\nexport default connect(mapStateToProps)(PollPage);\n\nvar _c;\n\n$RefreshReg$(_c, \"PollPage\");","map":{"version":3,"names":["connect","Navigate","useNavigate","useParams","handleAddAnswer","PollPage","dispatch","authedUser","question","author","navigate","hasVotedForOptionOne","optionOne","votes","includes","id","hasVotedForOptionTwo","optionTwo","hasVoted","handleOptionOne","e","preventDefault","handleOptionTwo","calcPercentage","option","numberVotesTotal","length","avatarURL","text","mapStateToProps","users","questions","Object","values","find","user"],"sources":["/Users/truongphan/React/source/truongpv3-employee-polls-webapp/src/components/PollPage.js"],"sourcesContent":["import {connect} from \"react-redux\";\nimport {Navigate, useNavigate, useParams} from \"react-router-dom\";\nimport {handleAddAnswer} from \"../actions/questions\";\nimport \"./PollPage.css\";\n\nconst PollPage = ({dispatch, authedUser, question, author}) => {\n    const navigate = useNavigate();\n\n    if (!authedUser || !question || !author) {\n        return <Navigate to=\"/404\"/>;\n    }\n\n    const hasVotedForOptionOne = question.optionOne.votes.includes(authedUser.id);\n    const hasVotedForOptionTwo = question.optionTwo.votes.includes(authedUser.id);\n    const hasVoted = hasVotedForOptionOne || hasVotedForOptionTwo;\n\n    const handleOptionOne = (e) => {\n        e.preventDefault();\n        dispatch(handleAddAnswer(question.id, \"optionOne\"));\n        navigate(\"/\");\n    };\n\n    const handleOptionTwo = (e) => {\n        e.preventDefault();\n        dispatch(handleAddAnswer(question.id, \"optionTwo\"));\n        navigate(\"/\");\n    };\n\n    const calcPercentage = (option, question) => {\n        const numberVotesTotal = question.optionOne.votes.length + question.optionTwo.votes.length;\n        switch (option) {\n            case \"optionOne\":\n                return question.optionOne.votes.length / numberVotesTotal * 100 + \" %\";\n            case \"optionTwo\":\n                return question.optionTwo.votes.length / numberVotesTotal * 100 + \" %\";\n            default:\n                return \"\";\n        }\n    };\n\n    return (\n        <div>\n            <h1 className=\"text-3xl font-bold mt-9\">Poll by {author.id}</h1>\n\n            <div className=\"flex justify-center\">\n                <img src={author.avatarURL} alt=\"Profile\" className=\"h-24 w-24\"/>\n            </div>\n\n            <div className=\"flex justify-center\">\n                <h2 className=\"text-2xl font-bold mt-6\">Would you rather?</h2>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4 mt-4\">\n\n                <button onClick={handleOptionOne} disabled={hasVoted}\n                        className={\"p-2 rounded-xl bg-zinc-100 hover:shadow-xl transition \" + (hasVotedForOptionOne ? \"bg-lime-400\" : \"\")}>\n                    <div className={hasVotedForOptionOne ? \"chosen\" : \"\"}>\n                        <p className=\"font-bold mb-2\">{question.optionOne.text}</p>\n                        {!hasVoted &&\n                        <p className=\"underline underline-offset-4 mb-3\">Click</p>\n                        }\n                        {hasVoted &&\n                        <p className=\"text-xs\">Votes: {question.optionOne.votes.length} ({calcPercentage(\"optionOne\", question)})</p>\n                        }\n                    </div>\n                </button>\n\n                <button onClick={handleOptionTwo} disabled={hasVoted}\n                        className={\"p-2 rounded-xl bg-zinc-100 hover:shadow-xl transition \" + (hasVotedForOptionTwo ? \"bg-lime-400\" : \"\")}>\n                    <p className=\"font-bold mb-2\">{question.optionTwo.text}</p>\n                    {!hasVoted &&\n                    <p className=\"underline underline-offset-4 mb-3\">Click</p>\n                    }\n                    {hasVoted &&\n                    <p className=\"text-xs\">Votes: {question.optionTwo.votes.length} ({calcPercentage(\"optionTwo\", question)})</p>\n                    }\n                </button>\n\n\n            </div>\n\n\n        </div>\n    );\n};\n\nconst mapStateToProps = ({authedUser, users, questions}) => {\n    try {\n        const question = Object.values(questions).find((question) => question.id === useParams().id);\n        const author = Object.values(users).find((user) => user.id === question.author);\n        return {authedUser, question, author};\n    } catch (e) {\n        return <Navigate to=\"/404\"/>;\n    }\n};\n\nexport default connect(mapStateToProps)(PollPage);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}